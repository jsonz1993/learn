<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script>
    function makeOdd(str) {
        var len = str.length;

        if (len % 2 === 1) {
            return str;
        }

        var newStr = '#';
        for (var i = 0; i < len; i++) {
            newStr += str[i] + '#';
        }

        return newStr;
    }

    function judge(str) {
        (str.length % 2 === 0) && (str = makeOdd(str));

        var len = str.length,
            start = 0,
            half = Math.floor(len / 2);

        while (start <= half) {
            if (str[half - start] !== str[half + start]) {
                return false;
            }
            start++;
        }
        return true;
    }

    function getAllSubs(str) {
        var len = str.length,
            list = '';
        for (var i = 0; i < len; i++) {
            for (var j = i; j < len; j++) {
                var sub = str.substring(i, j + 1);
                if (sub && (sub.length > 1) && judge(sub)) {
                    if (sub.length > list.length)
                        list = sub;
                }
            }
        }
        console.log(list);
        return list;
    }
    </script>
</body>

</html>
